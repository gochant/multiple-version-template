# 开发者文档

所有开发时的前端代码放到 www 文件夹内，www-built 内是构建后的代码，最终上线部署使用的是 www-built 代码，www 与 www-built 间不能互相引用

## 前端目录说明

- assets：在本地放置的第三方库引用
- product：主干产品版本代码
- custom-version-x：自定义版本代码，可以任意建多个这样的文件夹

**product 与各定制版的关系**

product 和 custom-version-x 的目录结构是一样的，里面的目录结构见下：

### 每一个版本内的目录结构

- configs：应用程序配置
- entries：入口文件
- extensions：扩展
- fonts：字体文件
- html：独立页面文件（一个页面代表一个单页面应用）
- modules：模块定义文件
- pages：逻辑页面定义
- styles：样式表
- tools：构建时配置
- widgets：所有部件

#### configs

- require-config.js：requirejs 所需的公共配置文件，可在各个独立页面间共享
- 配置文件夹：为每个独立页面建立单独的文件夹管理这个页面所需的所有配置，以页面名字命名，例如有个 index.html 的独立页面，那么它的配置文件夹名为：index。配置用来设定该页面需要的资源

**配置文件夹**

- extension.js：该页面所用到的应用程序扩展方法
- module.js：该页面所用到的功能模块
- page.js：该页面所用到的逻辑页面

具体的内容（例如扩展方法、模块、页面定义等）不保存在该文件夹内，配置只是简单声明用哪些资源

#### entries

- xxxx.js：入口文件，以页面名称命名，访问该页面requirejs调用的唯一js脚本，在该文件里，需要加载配置并启动单页面应用

#### extensions

- components：公共的组件，里面可能包含 jquery 插件或以其他封装方式封装的界面元素
- infrastructure：该项目所有应用程序应用到的基础架构代码
- xxxx：以页面名称命名的文件夹，里面放置各个页面私有的扩展方法

#### html

- xxxx.html：页面文件，可以通过其他模板编译生成

#### modules

- xxxx.js：功能模块定义文件，定义这个项目内的功能模块，一个模块可能被多个独立文件所复用

#### pages

- xxxx.js：逻辑页面定义文件，可将多个（一般是一个独立页面）定义放到同一个文件里

**逻辑页面定义文件**

- 用于继承的公共页面定义以 `_` 开头，公共文件以 `common` 命名，不同的逻辑页面可能有很多 common 定义
- 命名语义化，以 `_` 分隔多个单词

#### tools

- build.js：构建文件，一个版本一个
- model.js：模型元数据文件，用于模板编译

### widgets

按照业务划分文件夹，例如为每个独立页面建立文件夹，公共部件建立文件夹，文件夹下按功能和内容再划分多个文件夹，例如：

- 顶级模块（应用）
  - 功能模块
    - 部件类型
      - 部件

**部件类型**

按照部件类型划分文件夹可按照语义很好的组织并快速定位，一些通用的类型举例：

- nav：导航类
- list：列表类
- detail： 详情类
- form：表单类
- view：呈现类